{% extends "base.html" %}
{% block content %}
<div class="text-center mb-4">
    <h1 class="fw-bold text-primary"><i class="bi bi-speedometer2"></i> Dashboard</h1>
    <p class="text-muted">Overview of your tasks and progress</p>
</div>
<div class="row mb-4">
    <div class="col-md-4">
        <div class="card text-center">
            <div class="card-body">
                <i class="bi bi-list-check text-primary" style="font-size: 2rem;"></i>
                <h5 class="mt-2">Total Tasks</h5>
                <h3 class="text-primary">{{ metrics.total_tasks }}</h3>
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <div class="card text-center">
            <div class="card-body">
                <i class="bi bi-exclamation-triangle text-warning" style="font-size: 2rem;"></i>
                <h5 class="mt-2">Overdue Tasks</h5>
                <h3 class="text-warning">{{ metrics.overdue }}</h3>
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <div class="card text-center">
            <div class="card-body">
                <i class="bi bi-bar-chart text-success" style="font-size: 2rem;"></i>
                <h5 class="mt-2">Completion Progress</h5>
               <div class="progress mt-2">
<div class="progress-bar bg-success" style="width: {{ metrics.progress }}%;"></div>

</div>

            </div>
        </div>
    </div>
</div>
<h3 class="fw-bold"><i class="bi bi-check2-square"></i> Your Tasks</h3>
<div class="row">
    {% for task in tasks %}
        <div class="col-md-4 mb-3">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">{{ task.title }}</h5>
                    <p class="card-text">{{ task.description }}</p>
                    <span class="badge bg-{{ 'success' if task.status == 'Done' else 'warning' if task.status == 'In Progress' else 'secondary' }}">{{ task.status }}</span>
                    {% if task.deadline %}
                        <p class="text-muted mt-2"><i class="bi bi-calendar"></i> Deadline: {{ task.deadline.strftime('%Y-%m-%d') }}</p>
                    {% endif %}
                </div>
            </div>
        </div>
    {% endfor %}
</div>
{% endblock %}